{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\administracion proyect\\\\client\\\\client\\\\src\\\\components\\\\Cardscontainer\\\\CardsContainer.jsx\",\n  _s = $RefreshSig$();\nimport Cards from \"../Cards/Cards\";\nimport { useSelector } from \"react-redux\";\nimport style from \"./CardsContainer.module.css\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardsContainers = () => {\n  _s();\n  const users = useSelector(state => state.users); // Usuarios desde Redux\n  const [userDetails, setUserDetails] = useState({}); // Estado para guardar los detalles de cada usuario\n\n  // useEffect para obtener los detalles de cada usuario solo una vez\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      const userPromises = users.map(user => axios.get(`http://localhost:3001/users/${user.id}`));\n      const responses = await Promise.all(userPromises);\n      const userDetailsMap = responses.reduce((acc, res, idx) => {\n        acc[users[idx].id] = res.data;\n        return acc;\n      }, {});\n      setUserDetails(userDetailsMap);\n    };\n    if (users.length > 0) {\n      fetchUserDetails();\n    }\n  }, [users]);\n  console.log(userDetails);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: style.mainContainer,\n    children: users.map(user => {\n      const details = userDetails[user.id]; // Detalles del usuario obtenidos\n      return details && !user.admin &&\n      /*#__PURE__*/\n      // Verificamos que no sea administrador\n      _jsxDEV(Cards, {\n        id: details.id,\n        name: details.name,\n        lastName: details.lastName,\n        image: details.image,\n        email: details.email,\n        phone: details.phone,\n        Posts: details.Posts || []\n      }, user.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 38,\n        columnNumber: 13\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 32,\n    columnNumber: 5\n  }, this);\n};\n_s(CardsContainers, \"6dtjAM8zc1hJofP6oQc4ddwQ7ZM=\", false, function () {\n  return [useSelector];\n});\n_c = CardsContainers;\nexport default CardsContainers;\nvar _c;\n$RefreshReg$(_c, \"CardsContainers\");","map":{"version":3,"names":["Cards","useSelector","style","useEffect","useState","axios","jsxDEV","_jsxDEV","CardsContainers","_s","users","state","userDetails","setUserDetails","fetchUserDetails","userPromises","map","user","get","id","responses","Promise","all","userDetailsMap","reduce","acc","res","idx","data","length","console","log","className","mainContainer","children","details","admin","name","lastName","image","email","phone","Posts","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/administracion proyect/client/client/src/components/Cardscontainer/CardsContainer.jsx"],"sourcesContent":["import Cards from \"../Cards/Cards\";\r\nimport { useSelector } from \"react-redux\";\r\nimport style from \"./CardsContainer.module.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst CardsContainers = () => {\r\n  const users = useSelector((state) => state.users); // Usuarios desde Redux\r\n  const [userDetails, setUserDetails] = useState({}); // Estado para guardar los detalles de cada usuario\r\n\r\n  // useEffect para obtener los detalles de cada usuario solo una vez\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      const userPromises = users.map((user) =>\r\n        axios.get(`http://localhost:3001/users/${user.id}`)\r\n      );\r\n      const responses = await Promise.all(userPromises);\r\n      const userDetailsMap = responses.reduce((acc, res, idx) => {\r\n        acc[users[idx].id] = res.data;\r\n        return acc;\r\n      }, {});\r\n      setUserDetails(userDetailsMap);\r\n    };\r\n\r\n    if (users.length > 0) {\r\n      fetchUserDetails();\r\n    }\r\n  }, [users]);\r\n  console.log(userDetails);\r\n\r\n  return (\r\n    <div className={style.mainContainer}>\r\n      {users.map((user) => {\r\n        const details = userDetails[user.id]; // Detalles del usuario obtenidos\r\n        return (\r\n          details &&\r\n          !user.admin && ( // Verificamos que no sea administrador\r\n            <Cards\r\n              key={user.id}\r\n              id={details.id}\r\n              name={details.name}\r\n              lastName={details.lastName}\r\n              image={details.image}\r\n              email={details.email}\r\n              phone={details.phone}\r\n              Posts={details.Posts || []}\r\n            />\r\n          )\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardsContainers;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,gBAAgB;AAClC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAOC,KAAK,MAAM,6BAA6B;AAC/C,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,KAAK,GAAGT,WAAW,CAAEU,KAAK,IAAKA,KAAK,CAACD,KAAK,CAAC,CAAC,CAAC;EACnD,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEpD;EACAD,SAAS,CAAC,MAAM;IACd,MAAMW,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,MAAMC,YAAY,GAAGL,KAAK,CAACM,GAAG,CAAEC,IAAI,IAClCZ,KAAK,CAACa,GAAG,CAAC,+BAA+BD,IAAI,CAACE,EAAE,EAAE,CACpD,CAAC;MACD,MAAMC,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACP,YAAY,CAAC;MACjD,MAAMQ,cAAc,GAAGH,SAAS,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;QACzDF,GAAG,CAACf,KAAK,CAACiB,GAAG,CAAC,CAACR,EAAE,CAAC,GAAGO,GAAG,CAACE,IAAI;QAC7B,OAAOH,GAAG;MACZ,CAAC,EAAE,CAAC,CAAC,CAAC;MACNZ,cAAc,CAACU,cAAc,CAAC;IAChC,CAAC;IAED,IAAIb,KAAK,CAACmB,MAAM,GAAG,CAAC,EAAE;MACpBf,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EACXoB,OAAO,CAACC,GAAG,CAACnB,WAAW,CAAC;EAExB,oBACEL,OAAA;IAAKyB,SAAS,EAAE9B,KAAK,CAAC+B,aAAc;IAAAC,QAAA,EACjCxB,KAAK,CAACM,GAAG,CAAEC,IAAI,IAAK;MACnB,MAAMkB,OAAO,GAAGvB,WAAW,CAACK,IAAI,CAACE,EAAE,CAAC,CAAC,CAAC;MACtC,OACEgB,OAAO,IACP,CAAClB,IAAI,CAACmB,KAAK;MAAA;MAAM;MACf7B,OAAA,CAACP,KAAK;QAEJmB,EAAE,EAAEgB,OAAO,CAAChB,EAAG;QACfkB,IAAI,EAAEF,OAAO,CAACE,IAAK;QACnBC,QAAQ,EAAEH,OAAO,CAACG,QAAS;QAC3BC,KAAK,EAAEJ,OAAO,CAACI,KAAM;QACrBC,KAAK,EAAEL,OAAO,CAACK,KAAM;QACrBC,KAAK,EAAEN,OAAO,CAACM,KAAM;QACrBC,KAAK,EAAEP,OAAO,CAACO,KAAK,IAAI;MAAG,GAPtBzB,IAAI,CAACE,EAAE;QAAAwB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAQb,CACF;IAEL,CAAC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACC,CAAC;AAEV,CAAC;AAACrC,EAAA,CA9CID,eAAe;EAAA,QACLP,WAAW;AAAA;AAAA8C,EAAA,GADrBvC,eAAe;AAgDrB,eAAeA,eAAe;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}