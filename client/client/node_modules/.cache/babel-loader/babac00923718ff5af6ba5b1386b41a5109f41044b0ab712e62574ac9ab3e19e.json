{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\USER\\\\Documents\\\\administracion proyect\\\\client\\\\client\\\\src\\\\components\\\\Cardscontainer\\\\CardsContainer.jsx\",\n  _s = $RefreshSig$();\nimport Cards from \"../Cards/Cards\";\nimport { useSelector } from \"react-redux\";\nimport \"./CardsContainer.css\";\nimport { useEffect, useState } from \"react\";\nimport axios from \"axios\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CardsContainers = () => {\n  _s();\n  const users = useSelector(state => state.users); // Usuarios desde Redux\n  const [userDetails, setUserDetails] = useState({}); // Estado para guardar los detalles de cada usuario\n\n  useEffect(() => {\n    const fetchUserDetails = async () => {\n      try {\n        // Solo hacer la solicitud si el usuario tiene una id válida y existe en la lista\n        const userPromises = users.filter(user => user.id) // Asegúrate de que los usuarios tienen id\n        .map(user => axios.get(`http://localhost:3001/users/${user.id}`));\n        const responses = await Promise.all(userPromises);\n        const userDetailsMap = responses.reduce((acc, res, idx) => {\n          acc[users[idx].id] = res.data;\n          return acc;\n        }, {});\n        setUserDetails(userDetailsMap);\n      } catch (error) {\n        console.error(\"Error fetching user details:\", error);\n      }\n    };\n    if (users.length > 0) {\n      fetchUserDetails();\n    }\n  }, [users]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"mainContainer\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: users.map(user => {\n        const details = userDetails[user.id]; // Detalles del usuario obtenidos\n        return details && !user.admin &&\n        /*#__PURE__*/\n        // Verificamos que no sea administrador\n        _jsxDEV(Cards, {\n          id: details.id,\n          name: details.name,\n          lastName: details.lastName,\n          image: details.image,\n          email: details.email,\n          phone: details.phone,\n          Posts: details.Posts || []\n        }, user.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 15\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 36,\n    columnNumber: 5\n  }, this);\n};\n_s(CardsContainers, \"6dtjAM8zc1hJofP6oQc4ddwQ7ZM=\", false, function () {\n  return [useSelector];\n});\n_c = CardsContainers;\nexport default CardsContainers;\nvar _c;\n$RefreshReg$(_c, \"CardsContainers\");","map":{"version":3,"names":["Cards","useSelector","useEffect","useState","axios","jsxDEV","_jsxDEV","CardsContainers","_s","users","state","userDetails","setUserDetails","fetchUserDetails","userPromises","filter","user","id","map","get","responses","Promise","all","userDetailsMap","reduce","acc","res","idx","data","error","console","length","className","children","details","admin","name","lastName","image","email","phone","Posts","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/USER/Documents/administracion proyect/client/client/src/components/Cardscontainer/CardsContainer.jsx"],"sourcesContent":["import Cards from \"../Cards/Cards\";\r\nimport { useSelector } from \"react-redux\";\r\nimport \"./CardsContainer.css\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\n\r\nconst CardsContainers = () => {\r\n  const users = useSelector((state) => state.users); // Usuarios desde Redux\r\n  const [userDetails, setUserDetails] = useState({}); // Estado para guardar los detalles de cada usuario\r\n\r\n  useEffect(() => {\r\n    const fetchUserDetails = async () => {\r\n      try {\r\n        // Solo hacer la solicitud si el usuario tiene una id válida y existe en la lista\r\n        const userPromises = users\r\n          .filter((user) => user.id) // Asegúrate de que los usuarios tienen id\r\n          .map((user) => axios.get(`http://localhost:3001/users/${user.id}`));\r\n\r\n        const responses = await Promise.all(userPromises);\r\n        const userDetailsMap = responses.reduce((acc, res, idx) => {\r\n          acc[users[idx].id] = res.data;\r\n          return acc;\r\n        }, {});\r\n        setUserDetails(userDetailsMap);\r\n      } catch (error) {\r\n        console.error(\"Error fetching user details:\", error);\r\n      }\r\n    };\r\n\r\n    if (users.length > 0) {\r\n      fetchUserDetails();\r\n    }\r\n  }, [users]);\r\n\r\n  return (\r\n    <div className=\"mainContainer\">\r\n      <div>\r\n        {users.map((user) => {\r\n          const details = userDetails[user.id]; // Detalles del usuario obtenidos\r\n          return (\r\n            details &&\r\n            !user.admin && ( // Verificamos que no sea administrador\r\n              <Cards\r\n                key={user.id}\r\n                id={details.id}\r\n                name={details.name}\r\n                lastName={details.lastName}\r\n                image={details.image}\r\n                email={details.email}\r\n                phone={details.phone}\r\n                Posts={details.Posts || []}\r\n              />\r\n            )\r\n          );\r\n        })}\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default CardsContainers;\r\n"],"mappings":";;AAAA,OAAOA,KAAK,MAAM,gBAAgB;AAClC,SAASC,WAAW,QAAQ,aAAa;AACzC,OAAO,sBAAsB;AAC7B,SAASC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAC3C,OAAOC,KAAK,MAAM,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1B,MAAMC,eAAe,GAAGA,CAAA,KAAM;EAAAC,EAAA;EAC5B,MAAMC,KAAK,GAAGR,WAAW,CAAES,KAAK,IAAKA,KAAK,CAACD,KAAK,CAAC,CAAC,CAAC;EACnD,MAAM,CAACE,WAAW,EAAEC,cAAc,CAAC,GAAGT,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC;;EAEpDD,SAAS,CAAC,MAAM;IACd,MAAMW,gBAAgB,GAAG,MAAAA,CAAA,KAAY;MACnC,IAAI;QACF;QACA,MAAMC,YAAY,GAAGL,KAAK,CACvBM,MAAM,CAAEC,IAAI,IAAKA,IAAI,CAACC,EAAE,CAAC,CAAC;QAAA,CAC1BC,GAAG,CAAEF,IAAI,IAAKZ,KAAK,CAACe,GAAG,CAAC,+BAA+BH,IAAI,CAACC,EAAE,EAAE,CAAC,CAAC;QAErE,MAAMG,SAAS,GAAG,MAAMC,OAAO,CAACC,GAAG,CAACR,YAAY,CAAC;QACjD,MAAMS,cAAc,GAAGH,SAAS,CAACI,MAAM,CAAC,CAACC,GAAG,EAAEC,GAAG,EAAEC,GAAG,KAAK;UACzDF,GAAG,CAAChB,KAAK,CAACkB,GAAG,CAAC,CAACV,EAAE,CAAC,GAAGS,GAAG,CAACE,IAAI;UAC7B,OAAOH,GAAG;QACZ,CAAC,EAAE,CAAC,CAAC,CAAC;QACNb,cAAc,CAACW,cAAc,CAAC;MAChC,CAAC,CAAC,OAAOM,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IAED,IAAIpB,KAAK,CAACsB,MAAM,GAAG,CAAC,EAAE;MACpBlB,gBAAgB,CAAC,CAAC;IACpB;EACF,CAAC,EAAE,CAACJ,KAAK,CAAC,CAAC;EAEX,oBACEH,OAAA;IAAK0B,SAAS,EAAC,eAAe;IAAAC,QAAA,eAC5B3B,OAAA;MAAA2B,QAAA,EACGxB,KAAK,CAACS,GAAG,CAAEF,IAAI,IAAK;QACnB,MAAMkB,OAAO,GAAGvB,WAAW,CAACK,IAAI,CAACC,EAAE,CAAC,CAAC,CAAC;QACtC,OACEiB,OAAO,IACP,CAAClB,IAAI,CAACmB,KAAK;QAAA;QAAM;QACf7B,OAAA,CAACN,KAAK;UAEJiB,EAAE,EAAEiB,OAAO,CAACjB,EAAG;UACfmB,IAAI,EAAEF,OAAO,CAACE,IAAK;UACnBC,QAAQ,EAAEH,OAAO,CAACG,QAAS;UAC3BC,KAAK,EAAEJ,OAAO,CAACI,KAAM;UACrBC,KAAK,EAAEL,OAAO,CAACK,KAAM;UACrBC,KAAK,EAAEN,OAAO,CAACM,KAAM;UACrBC,KAAK,EAAEP,OAAO,CAACO,KAAK,IAAI;QAAG,GAPtBzB,IAAI,CAACC,EAAE;UAAAyB,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAQb,CACF;MAEL,CAAC;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACC;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACH,CAAC;AAEV,CAAC;AAACrC,EAAA,CApDID,eAAe;EAAA,QACLN,WAAW;AAAA;AAAA6C,EAAA,GADrBvC,eAAe;AAsDrB,eAAeA,eAAe;AAAC,IAAAuC,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}