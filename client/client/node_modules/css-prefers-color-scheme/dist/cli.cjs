#!/usr/bin/env node

"use strict";var e=require("tty"),t=require("path"),r=require("url"),n=require("fs");function s(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var i=s(e),o=s(t),a=s(r),l=s(n);const u=/^media$/i,c=/\(\s*prefers-color-scheme\s*:\s*(dark|light|no-preference)\s*\)/i,h={dark:48,light:70,"no-preference":22},p=(e,t)=>`(color-index: ${h[t.toLowerCase()]})`,f={dark:48842621,light:70318723,"no-preference":22511989},d=(e,t)=>`(color: ${f[t.toLowerCase()]})`,g=e=>{const t=!("preserve"in Object(e))||e.preserve,r={};return!("mediaQuery"in Object(e))||"color-index"!==e.mediaQuery&&"color"!==e.mediaQuery?(r["color-index"]=!0,r.color=!0):r[e.mediaQuery]=!0,{postcssPlugin:"postcss-prefers-color-scheme",AtRule:e=>{if(!u.test(e.name))return;const{params:n}=e,s=n.replace(c,p),i=n.replace(c,d);let o=!1;n!==s&&r["color-index"]&&(e.cloneBefore({params:s}),o=